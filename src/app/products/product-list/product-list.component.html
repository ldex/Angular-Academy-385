<h2>
    {{ title }}
</h2>

<!-- Angular 17+ -->
@if (products$ | async; as products) {
    <ul class="products">
        @for (product of products | slice:start:end; track product.id) {
            <li [class.discontinued]="product.discontinued"
                [class.selected]="selectedProduct == product"
                (click)="onSelect(product)">
                <span class="name">{{ product.name | uppercase }}</span>
                <span class="description">{{ product.description }}</span>
                <span class="price">{{ product.price | currency:'CAD':'symbol-narrow':'.2' }}</span>
            </li>
        }
    </ul>
    <div>
        <button (click)="previousPage()" [disabled]="start == 0">Previous Page</button>
        Page {{ pageNumber }}
        <button (click)="nextPage()" [disabled]="products.length <= end">Next Page</button>
    </div>
} @else {
    <h2 class="loading">Loading products</h2>
}

<!-- Angular < 17 -->
<!-- <ul>
    <li *ngFor="let product of products">
        {{ product.name }}
    </li>
</ul> -->